{%- macro date_xml(part) -%}
<common:year>{{ part.year }}</common:year>
{%- if part.month -%}
<common:month>{{ part.month }}</common:month>
{%- if part.day -%}
<common:day>{{ part.day }}</common:day>
{%- endif -%}
{%- endif -%}
{%- endmacro -%}

{%- macro contributor_orcid(orcid) -%}
<common:uri>http://orcid.org/{{ orcid }}</common:uri>
<common:path>{{ orcid }}</common:path>
<common:host>orcid.org</common:host>
{%- endmacro -%}

{%- macro language_code(code) -%}
<common:language-code>{{ code }}</common:language-code>
{%- endmacro -%}

{%- macro country(part) -%}
<common:country visibility="{{ part.visibility }}">
  {{ part.code }}
</common:country>
{%- endmacro -%}

<?xml version="1.0" encoding="UTF-8"?>
{%- block content -%}{%- endblock -%}

{%- macro organization(record) -%}
<organization>
    {% if record.organization.name %}
    <name>
      {{ record.organization.name }}
    </name>
    {% endif %}
    {% if record.organization.address %}
    <address>
      {% if record.organization.address.city %}
        <city>
          {{ record.organization.address.city }}
        </city>
      {% endif %}
      {% if record.organization.address.region %}
        <region>
          {{ record.organization.address.region }}
        </region>
      {% endif %}
      {% if record.organization.address.country %}
        <country>
          {{ record.organization.address.country }}
        </country>
      {% endif %}
    </address>
    {% endif %}
    {% if record.organization.disambiguated %}
    <disambiguated-organization>
      <disambiguated-organization-identifier>
        {{ record.organization.disambiguated.id }}
      </disambiguated-organization-identifier>
      <disambiguation-source>
        {{ record.organization.disambiguated.source }}
      </disambiguation-source>
    </disambiguated-organization>
    {% endif %}
</organization>
{%- endmacro -%}

